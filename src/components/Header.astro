---
const navLinks = [
  { href: '/', label: 'Home' },
  { href: '/about/', label: 'About' },
  { href: '/projects/', label: 'Projects' },
  { href: '/blog/', label: 'Blog' },
  { href: '/cv/', label: 'CV' },
  { href: '/cats/', label: 'Cats' },
];

const currentPath = Astro.url.pathname;
---

<header class="border-b border-gray-200 dark:border-gray-800">
  <nav class="mx-auto flex max-w-3xl items-center justify-between px-6 py-4">
    <a href="/" class="text-lg font-semibold tracking-tight text-gray-900 dark:text-gray-100">
      Vasilis
    </a>

    <!-- Mobile menu button -->
    <button
      id="menu-toggle"
      class="sm:hidden rounded-md p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100"
      aria-label="Toggle menu"
      aria-expanded="false"
    >
      <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path id="menu-icon" stroke-linecap="round" stroke-linejoin="round" d="M3.75 9h16.5m-16.5 6.75h16.5" />
      </svg>
    </button>

    <!-- Desktop nav -->
    <ul class="hidden sm:flex items-center gap-6 text-sm">
      {navLinks.map((link) => (
        <li>
          <a
            href={link.href}
            class:list={[
              'transition-colors hover:text-accent dark:hover:text-accent-dark',
              currentPath === link.href
                ? 'text-accent dark:text-accent-dark font-medium'
                : 'text-gray-600 dark:text-gray-400',
            ]}
          >
            {link.label}
          </a>
        </li>
      ))}
    </ul>
  </nav>

  <!-- Mobile nav -->
  <ul
    id="mobile-menu"
    class="hidden border-t border-gray-200 dark:border-gray-800 px-6 pb-4 sm:hidden"
  >
    {navLinks.map((link) => (
      <li>
        <a
          href={link.href}
          class:list={[
            'block py-2 text-sm transition-colors hover:text-accent dark:hover:text-accent-dark',
            currentPath === link.href
              ? 'text-accent dark:text-accent-dark font-medium'
              : 'text-gray-600 dark:text-gray-400',
          ]}
        >
          {link.label}
        </a>
      </li>
    ))}
  </ul>
</header>

<script>
  const toggle = document.getElementById('menu-toggle');
  const menu = document.getElementById('mobile-menu');

  toggle?.addEventListener('click', () => {
    const expanded = toggle.getAttribute('aria-expanded') === 'true';
    toggle.setAttribute('aria-expanded', String(!expanded));
    menu?.classList.toggle('hidden');
  });
</script>
